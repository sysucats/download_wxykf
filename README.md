# 微信云开发-云存储文件下载备份
## 下载微信云开发里的内容
0. 下载本仓库代码
1. 下载安装node js v16.x.x，并配置`PATH`环境变量，https://nodejs.org/zh-cn/
2. 将`config.sample.js`重命名为`config.js`，并按照注释填写云环境信息
3. 打开命令行，在本目录下，执行`npm install`安装依赖
4. 命令行启动`node main.js`，这一步会下载云存储里的**所有文件**，注意流量消耗

小提示：
* 刚开始会加载所有文件的列表，会比较慢（1~2分钟），不要着急
* 本地文件会保存在`./save`目录下，多次执行`node main.js`只会下载本地没有的文件，不会重复下载，也就是说中间断了重启一次就好

## 保存云数据库文件
直接打开微信开发者工具，云开发，数据库，点击每个数据表，再点击`导出`，保存为json文件。

## 删除云存储文件
1. 下载文件后，会产生所有下载的文件列表`file_list.json`
2. 从中提取可以删除的文件，放置到`delete_file_list.json`中（查看文件中的示例）
3. 执行`node delete_file_list.json`进行删除

小提示：
* 建议先下载全部图片后，再进行删除操作
* 自动化清理工具正在开发中...

## 关于
感谢你对中大猫谱项目的支持！
